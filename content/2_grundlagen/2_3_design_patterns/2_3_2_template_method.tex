\subsection{Template Method}

\subsubsection*{Problembeschreibung}

Ein Algorithmus besteht aus mehreren Schritten, die jeweils eine bestimmte Aufgabe erfüllen. Diese Schritte können je nach Situation oder Anforderung unterschiedlich implementiert werden, ohne den Algorithmus zu verändern. Der Algorithmus legt jedoch die Abfolge der Schritte fest und ruft sie in einer vorgegebenen Reihenfolge auf. \cite{gamma_design_1995}

\subsubsection*{Lösung}

Jede Klasse, welche einen Algorithmus der selben Struktur implementiert, erbt von einer abstrakten Klassen (\code{AbstractClass}), welche die \code{templateMethod} implementiert. Das wird in \autoref{fig:template-method-class} gezeigt. Diese gibt das Grundgerüst des Algorithmus vor und ruft darin die einzelnen Teilschritte auf. Diese sind jeweils in eigenen Methoden implementiert. Die Subklassen (\code{ConcreteClass}) definieren diese Methoden zum Teil neu, wenn eine Veränderung des Verhaltens dieses Teilschrittes notwendig ist.

\begin{figure}[!ht]
	\centering
	\includegraphics[width=0.55\linewidth]{images/patterns/template-method-class.pdf}
	\caption{Klassendiagramm der \emph{Template Method}. Sie gibt ein Gerüst eines Algorithmus in der Methode \code{templateMethod} vor. Die Details des Algorithmus werden in weiteren Methoden implementiert, sodass sie einzeln durch Spezialisierung der Basisklasse angepasst werden können. \cite{skobeleva_template_2023}}
	\label{fig:template-method-class}
\end{figure}

\subsubsection*{Konsequenzen}

\emph{Template Methods} sind ein Mechanismus, welcher die Wiederverwendung von Quelltext ermöglicht und kann somit der Codeduplikation entgegen wirken. Anstatt Abwandlungen von Algorithmen von Grund auf neu zu implementieren, ist es möglich, sie aus bestehenden Komponenten zusammenzusetzen und je nach Bedarf neuen Code hinzuzufügen. Das Muster der \emph{Template Method} weist eine umgekehrte Kontrollstruktur auf. Anstatt dass eine Klasse Methoden ihrer Superklasse aufruft, delegiert die \emph{Template Method} die Verantwortlichkeit für die einzelnen Teile des Algorithmus an ihre Subklassen.

Bei der Verwendung der \emph{Template Method} ist jedoch zu beachten, wie die einzelnen Methoden zu verwenden sind. Diese lassen sich grob in zwei Arten einteilen, die \emph{Hook}\footnote{Schnittstelle zur Integration fremder Funktionalität in ein bestehendes System}-Methoden und die abstrakten Methoden. Während die \emph{Hook}-Methoden eine Standard-Implementierung in der abstrakten Basisklasse bereitstellen, ist dies bei den abstrakten Methoden nicht der Fall. Entsprechend müssen die abstrakten Methoden zwingend von einer konkreten Subklasse implementiert werden. Bei den \emph{Hook}-Methoden ist das optional.

Die \emph{Template Method} synergiert mit dem \emph{Strategy Pattern}. Einzelne Schritte eines Algorithmus können in einer Strategie-Klasse implementiert sein. \cite{gamma_design_1995}